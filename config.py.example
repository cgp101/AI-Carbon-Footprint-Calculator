"""
Configuration Template for Azure OpenAI API
Copy this file to config.py and update with your actual credentials
"""

import os

# Azure OpenAI Configuration - UPDATE THESE VALUES
AZURE_OPENAI_ENDPOINT = "https://your-resource-name.openai.azure.com/"
AZURE_OPENAI_API_KEY = "your-azure-openai-api-key-here"
AZURE_OPENAI_API_VERSION = "2025-01-01-preview"
AZURE_OPENAI_DEPLOYMENT_NAME = "your-gpt-4-deployment-name"

# Complete endpoint URL for chat completions
AZURE_OPENAI_CHAT_ENDPOINT = f"{AZURE_OPENAI_ENDPOINT}openai/deployments/{AZURE_OPENAI_DEPLOYMENT_NAME}/chat/completions"

def get_azure_openai_config():
    """Get Azure OpenAI configuration"""
    return {
        "endpoint": AZURE_OPENAI_ENDPOINT,
        "api_key": AZURE_OPENAI_API_KEY,
        "api_version": AZURE_OPENAI_API_VERSION,
        "deployment_name": AZURE_OPENAI_DEPLOYMENT_NAME,
        "chat_endpoint": AZURE_OPENAI_CHAT_ENDPOINT
    }

def get_openai_key():
    """Get the OpenAI API key (for backward compatibility)"""
    return AZURE_OPENAI_API_KEY

def is_azure_openai():
    """Check if we're using Azure OpenAI"""
    return True

def test_api_key():
    """Test if the API key is configured properly"""
    key = get_openai_key()
    if not key:
        print("❌ No API key found")
        return False
    
    if key == "your-azure-openai-api-key-here":
        print("❌ Please update config.py with your actual Azure OpenAI credentials")
        return False
    
    if len(key) < 10:
        print("❌ Invalid API key format")
        return False
    
    print("✅ Azure OpenAI API key is configured")
    return True

"""
SETUP INSTRUCTIONS:

1. Copy this file to config.py:
   cp config.py.example config.py

2. Update the values above with your actual Azure OpenAI credentials:
   - AZURE_OPENAI_ENDPOINT: Your Azure OpenAI resource endpoint
   - AZURE_OPENAI_API_KEY: Your Azure OpenAI API key
   - AZURE_OPENAI_DEPLOYMENT_NAME: Your GPT-4 deployment name

3. Get credentials from:
   - Azure Portal > Your OpenAI Resource > Keys and Endpoint
   - Azure OpenAI Studio > Deployments

4. The app will work without Azure OpenAI (uses mock data for photo upload)
""" 